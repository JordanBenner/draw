<!doctype>
<html>

<head>
  <title>Draw app</title>
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    h1 {
      margin: 0;
      padding: 0;
    }

    canvas {
      border: 1px solid black;
    }
  </style>
</head>

<body>
  <h1>Draw app</h1>
  <canvas width='400' height='400'></canvas>
  <script>
    //rectangle //
    var canvas = document.querySelector('canvas')
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = 'yellow';
    ctx.fillRect(50, 50, 100, 200);

    //rectangle 2//
    var canvas = document.querySelector('canvas')
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = 'green';
    ctx.fillRect(25, 25, 50, 50);

    // circle //
    ctx.beginPath();
    ctx.fillStyle = 'blue';
    ctx.ellipse(100, 100, 50, 50, 0, 0, Math.PI * 2);
    ctx.fill();

    // draw triangle //
    ctx.strokeStyle = 'red';
    ctx.lineJoin = 'round';
    ctx.lineWidth = 5;

    ctx.beginPath();
    ctx.moveTo(100, 100);
    ctx.lineTo(200, 200);
    ctx.lineTo(100, 200);
    ctx.closePath();
    ctx.stroke();

    var mouse_down = false;
    var past;
    var current;

    function draw(past, current) {
      ctx.moveTo(past[0], past[1]);
      ctx.quadraticCurveTo(
        past[0], past[1],
        current[0], current[1]
      );

      ctx.stroke();
      ctx.closePath();
    }
    ctx.beginPath();
    canvas.addEventListener('mousedown', function(event) {
      mouse_down = true;
      console.log('DOWN', event.offsetX, event.offsetY);
    });

    canvas.addEventListener('mouseup', function(event) {
      mouse_down = false;
      past = null;
      console.log('UP', event.offsetX, event.offsetY);
    });

    canvas.addEventListener('mousemove', function(event) {
      if (mouse_down) {
        current = [event.offsetX, event.offsetY];
        console.log('MOVE', event.offsetX, event.offsetY);
        if (past) {
          draw(past, current);
        }
        past = [event.offsetX, event.offsetY];

      }
      // else{
      //   console.log('Not MOVE', event.offsetX, event.offsetY);
      // }
    });
  </script>
</body>

</html>
